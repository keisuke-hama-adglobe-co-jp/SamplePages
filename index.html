<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sample Pages</title>
    <link rel="stylesheet" href="style.css">

    <script>
      window.onload = function onload() {
        target = document.getElementById("output");
        target.innerHTML = document.cookie
      }

      function externalInput(arg) {
        target = document.getElementById("external_input")
        target.innerHTML = arg
      }

      var NativeBridge = {
        send: function(methodName, args) {
          if (this.isIOS()) {
            window.webkit.messageHandlers[methodName].postMessage(args);
          } else if (this.isAndroid()) {
            MyApp[methodName](args);
          } else {
            alert(args)
          }
        },

        link: function(methodName, args, link) {
          if (this.isIOS()) {
            window.webkit.messageHandlers[methodName].postMessage(args);
          } else if (this.isAndroid()) {
            MyApp[methodName](args);
          } else {
            window.location.href = link
          }
        },

        internalLink: function(id, url) {
          this.link("relatedLink", "{\"topics_id\":" + id + ",\"url\":\"" + url + "\"}", url)
        },

        externalLink: function(url) {
          this.link("externalLink", "{\"url\":\"" + url + "\"}", url)
        },

        isIOS: function() {
          return /iOS-App/.test(window.navigator.userAgent);
        },
        isAndroid: function() {
          return /Android-App/.test(window.navigator.userAgent);
        }
      }

      var isOn = false;
      function starClick() {
        var onOff = "on"
        if (isOn) {
          document.getElementById('img_bookmark').src = "images/star_off.png";
          isOn = false;
          onOff = "off"
        } else {
          document.getElementById('img_bookmark').src = "images/star_on.png";
          isOn = true;
          onOff = "on"
        }
        NativeBridge.send("bookmark", "{\"topics_id\":0,\"bookmark\":\"" + onOff + "\"}")
      }

      function openExBrowserAndroid() {
        window.href="intent://www.google.com#Intent;scheme=http;action=android.intent.action.VIEW;end";
        // window.location.href="https://www.google.com/";
      }
      function openExBrowseriOS() {
        window.location.href = 'https://www.yahoo.co.jp/';
      }
    </script>
  </head>
  <body style="padding: 50px;">
    
    <div>å¤–éƒ¨ã‹ã‚‰é€ä¿¡ã•ã‚ŒãŸã‚‚ã®ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´æ‰€</div>
    <div class="external" id="external_input"></div>

    <div style="margin-top: 50px;">ã‚µãƒ³ãƒ—ãƒ«ãƒªãƒ³ã‚¯ï¼Ÿ</div>
    <div onclick="openExBrowserAndroid()" style="margin-top: 25px;">â˜…â˜†â˜…Androidç”¨ã‚µãƒ³ãƒ—ãƒ«ãƒªãƒ³ã‚¯â˜…â˜†â˜…</div>
    <div onclick="openExBrowseriOS()" style="margin-top: 25px;">â˜†â˜…â˜†iOSç”¨ã‚µãƒ³ãƒ—ãƒ«ãƒªãƒ³ã‚¯â˜†â˜…â˜†</div>

    <div style="margin-top: 50px;">ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯<br>message.name: bookmark</div>
    <img id="img_bookmark" onclick="starClick()" src="images/star_off.png" width="32px" height="32px" />

    <div style="margin-top: 50px;">ã‚¿ã‚°<br>
      message.name: tag</div>
    <table>
      <tr>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;å®‰è¥¿&quot;}')">å®‰è¥¿</span></td>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;ä¼Šè—¤&quot;}')">ä¼Šè—¤</span></td>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;ä¸Šç”°&quot;}')">ä¸Šç”°</span></td>
      </tr>
      <tr>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;æ±Ÿå‚&quot;}')">æ±Ÿå‚</span></td>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;å¤§åŸ&quot;}')">å¤§åŸ</span></td>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;åŠ ç€¬&quot;}')">åŠ ç€¬</span></td>
      </tr>
      <tr>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;æœ¨é‡&quot;}')">æœ¨é‡</span></td>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;å·¥è—¤&quot;}')">å·¥è—¤</span></td>
        <td><span onclick="NativeBridge.send('hashtag', '{&quot;tag&quot;:&quot;å‰£æŒ&quot;}')">å‰£æŒ</span></td>
      </tr>
    </table>

    <div style="margin-top: 50px;">å†…éƒ¨ãƒªãƒ³ã‚¯(æš«å®š)</div>
    <span onclick="NativeBridge.internalLink(0, 'https\:\/\/keisuke-hama-adglobe-co-jp.github.io\/SamplePages\/moved.html')">é·ç§»</span>

    <div style="margin-top: 50px;">å¤–éƒ¨ãƒªãƒ³ã‚¯(æš«å®š)</div>
    <span onclick="NativeBridge.externalLink('https\:\/\/www.google.com\/')">Google</span>

    <div style="margin-top: 50px;">ã‚¯ãƒƒã‚­ãƒ¼ğŸª</div>
    <div class="contents" id="output"></div>

    <div style="margin-top: 50px;">ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã«ã™ã‚‹ãŸã‚ã®ç”»åƒ</div>
    <img src="https://placehold.jp/3d4070/ffffff/100x500.png?text=Sample%20Image" width="100%" />
  </body>
</html>

